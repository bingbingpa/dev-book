# CHAPTER 11 테스트 개요

- 새로운 기능을 추가하거나, 코드가 더 건실해지도록 리팩터링하거나, 대규모 재설계를 진행하는 상황에서 자동 테스트는 실수를 빠르게 잡아주므로 안심하고 소프트웨어를 변경할 수 있게 해준다.
- 테스트는 시스템 코드의 첫번째 고객이라는 자격으로 여러분이 선택한 설계에 관해 많은 이야기를 해준다.
    - 데이터베이스에 너무 강하게 묶여 있는지, 이 API 가 필수 유스케이스를 지원하는지, 시스템이 극단적인 상황들에 잘 대처하는지 등을 확인할 수 있다.
- 나쁜 테스트 스위트는 테스트가 아예 없는 것만 못하다.
- 새로 작성한 코드의 테스트를 작성하는 일은 실질적으로 해당 코드의 API 가 잘 설계되었는지를 시험하는 행위이다.
    - 테스트하기 어려운 코드는 너무 많은 역할을 짊어지거나 의존성을 관리하기 어렵게 짜여졌기 때문일 가능성이 크다.
    - 다른 코드와 강하게 결합되지 않고 특정 역할에 집중해야 한다.
- 테스트 결과가 불규칙한 상황이 계속되면 생산성 저하보단 더한 일도 겪게 된다. 바로 테스트를 믿지 못하게 되는 상황이다.
    - 대부분의 불규칙한 실패는 테스트 자체에 비결정적으로 동작하는 로직이 있어서 발생한다. 소프트웨어에는 클록 시간, 스레드 스케줄링, 네트워크 지연시간 등 비결정적인 요소가 많다.
- **테스트는 확인하려는 행위를 수행하는 데 필요한 정보’만’을 포함해야 한다.**
- 신뢰할 수 있는 시스템이라면 부정적인 조건을 예측하고 대응 방식을 통제할 수 있어야 한다.
- **테스트 품질을 높이기 위해서는 검사해야 할 행위에 집중해야 한다.**
- 코드 커버리지는 테스트되지 않은 코드가 어디인지는 알려줄 수 있지만, 시스템이 얼마나 제대로 테스트 되었느냐를 판가름하는 지표로는 적합하지 않다.
- 테스트 스위트가 비결정적이고 느려지면 생산성을 갉아먹는다.
- **조직의 테스트 문화를 바꾸는 데는 시간이 걸린다.**