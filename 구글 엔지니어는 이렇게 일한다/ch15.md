# CHAPTER 15 폐기

- 코드 ‘자체’는 가치를 창출하지 않는다. 가치를 만들어내는 건 바로 ‘기능’이다. 사용자의 요구에 부합하는 기능은 자산이다. 이 기능을 구현하는 코드는 그저 목적지로 가기 위한 수단이다.
- 코드 자체는 비용을 낳기 때문에 기능이 같다면 코드 자체는 단순할수록 좋다.
- 권고 폐기는 새로운 시스템이 출시 됐음을 알리고 얼리어답터들에게 이용해보라고 권하기에 좋은 수단이다. 다만 베타  수준일 때 이렇게 해서는 안된다. 반드시 기능과 안정성 모두 정식 서비스가 가능한 수준에 올라섰을 때, 그리고 새로운 사용자를 확실하게 지원할 준비가 되었을 때 시행해야 한다.
- 권고 폐기는 새로운 시스템이 사용자에게 주는 혜택이 매우 클 때 효과가 좋다.
    - 이때 혜택은 ‘정말 좋다’ 정도가 아니라 ‘혁신적이다’ 수준이어야 한다.
    - 어중간한 혜택으로는 사용자들이 이주를 주저할 것이며, 심지어 대폭적인 개선이 있더라도 권고 폐기만으로는 모두를 움직이게 하기는 힘들 것이다.
- 강제 폐기는 대개 낡은 시스템의 지원 종료일을 못 박는 형태로 이루어진다. 종료일 이후까지 이주를 끝내지 못한 시스템은 제대로 작동되지 않을 것이다.
    - 이주 과정에서 충분히 경고하였다면 기한을 넘겨서까지 기존 시스템을 이용하는 시스템에 문제가 생겨도 책임을 묻지 않도록 해야 한다.
- 단순히 폐기 예정임을 표시하고 사람들이 알아서 이주하기를 바랄 수도 있지만, 기억하자! `희망은 전략이 아니다.` 폐기 경고는 새로운 사용자 유입은 대체로 잘 막아주지만 기존 사용자를 이주시키는데는 효과가 거의 없다.
- 사용자에게 전달되는 폐기 경고 메시지에는 `실행 가능성`, `적시성` 을 담아야 한다.
    - 해당 문제와 관련한 전문 지식을 갖춘 평균적인 엔지니어가 이론적으로 뿐 아니라 실질적인 조치를 취할 수 있다면 실행 가능한 경고이다.
    - 어떤 경우든 경고 메시지에는 폐기될 시스템으로의 의존성을 떼어내기 위해 엔지니어가 수행할 다음 단계를 알려줘야 한다.
    - 폐기 경고가 유용하려면 적시에 떠야 한다.
        - 리포지터리에 커밋하고 수 주 후에 알려주면 너무 늦다.
- 책임자를 두어 폐기에 필요한 전문지식을 집중시키면 집행 비용을 더 투명하게 알 수 있어서 실제로도 비용이 ‘절감’된다.
- 새로운 제품을 구축할 때 주요 컴포넌트를 하나씩 완성하는 걸 마일스톤으로 삼듯, 폐기시킬 때도 핵심 컴포넌트들을 하나씩 제거하는 걸 점진적 마일스톤으로 삼으면 효과가 좋다.
- 폐기를 진행하는 내내, 특히 프로세스의 초기 단계에서는 낡은 시스템을 `누가` , 그리고 `어떻게` 이용하고 있는지를 알아야 한다.
- **구글은 폐기시킬 심볼의 참조가 모두 제거되었는지를 확인하는 데 전역 테스트 스위트를 신탁처럼 이용한다.**
- 거시적으로 빌드 시스템에 가시성 허용목록을 도입하여 폐기된 시스템에 의존하는 시스템이 새로 생겨나는 일을 막도록 하자.
- **소프트웨어 시스템이 존재하는 한 유지보수 비용은 계속 발생하므로 제거하는 비용과 저울질해봐야 한다.**
- 폐기 비용을 생각하면 새로운 시스템으로 교체하기보다 기존 시스템을 개선하는 편이 일반적으로 더 저렴하다.