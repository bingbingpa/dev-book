# 엘라스틱 스택 개발부터 운영까지 (데이터 수집, 변환, 분석, 시각화를 위한 엘라스틱서치, 로그스태시, 비츠, 키바나의 모든 것)
- *김준영, 정상운 저/박재호 감수 | 책만*

## 1부 엘라스틱 스택 개요

### 01 엘라스틱 스택이란

- 데이터를 수집하고 가농: 비츠, 로그스태시
- 저장하고 분석: 엘라스틱서치
- 시각화하고 모니터링: 키바나
- 엘라스틱서치
  - 엘라스틱서치는 모든 레코드를 JSON 도큐먼트 형태로 입력하고 관리하고 있으며, 일반적인 데이터베이스와 마찬가지로, 쿼리한 결과에 대해 일치하는 원본 도큐먼트를 반환한다.
    - 텍스트 외에도 숫자, 날짜, IP 주소, 지리 정보 등의 데이터 타입 사용 가능
  - 엘라스틱서치는 텍스트나 도큐먼트의 경우 인덱싱 시점에 분석을 거쳐 용어 단위로 분해되고 역인덱스 사전을 구축한다.
  - 숫자나 키워드 타입의 데이터들은 엘라스틱서치 집계를 위해 집계에 최적화된 컬럼 기반 자료구조를 저장한다.
  - 엘라스틱서치는 스코어링(scoring), 즉 연관도에 따른 정렬이 가능하다.
- 로그스태시
  - 엘라스틱서치의 인덱싱 성능을 최적화하기 위한 배치 처리와 병렬 처리가 가능
  - 영속적인 큐를 사용해 현재 처리 중인 이벤트의 최소 1회 전송을 보장 
  - 유동적인 처리 방식으로 인해 수집 중인 데이터양이 급증하는 부하 상황에서도 안정성을 보장
- 비츠
  - 파일비트, 메트릭비트 등 비츠라고 부르는 경량 수집기
  - 각 비트는 로그 수집, 시스템 지표 수집 등 특정 목적에 최적화된 에이전트이며, Golang 으로 작성되었다.
  - **흔히 비츠에서 각 서비스 호스트의 정보룰 수집하며, 로그스태시에서 이름 취합하고 가공해 엘라스틱서치로 전송하는 형태의 아키텍처가 많이 사용된다.**